(function(e){function t(t){for(var a,r,s=t[0],o=t[1],l=t[2],h=0,u=[];h<s.length;h++)r=s[h],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(e[a]=o[a]);d&&d(t);while(u.length)u.shift()();return c.push.apply(c,l||[]),i()}function i(){for(var e,t=0;t<c.length;t++){for(var i=c[t],a=!0,s=1;s<i.length;s++){var o=i[s];0!==n[o]&&(a=!1)}a&&(c.splice(t--,1),e=r(r.s=i[0]))}return e}var a={},n={app:0},c=[];function r(t){if(a[t])return a[t].exports;var i=a[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=a,r.d=function(e,t,i){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(i,a,function(t){return e[t]}.bind(null,a));return i},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/need-for-drive/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var d=o;c.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0f59":function(e,t,i){e.exports=i.p+"img/left_arrow.818916a1.svg"},"1ae4":function(e,t,i){e.exports=i.p+"img/logo.1c789f27.svg"},"358e":function(e,t,i){},"42f1":function(e,t,i){e.exports=i.p+"img/right_arrow.fb13fddc.svg"},"56d7":function(e,t,i){"use strict";i.r(t);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("7a23");function n(e,t,i,n,c,r){var s=Object(a["y"])("router-view");return Object(a["t"])(),Object(a["e"])(s)}var c={name:"App"},r=i("6b0d"),s=i.n(r);const o=s()(c,[["render",n]]);var l=o,d=i("6c02"),h={class:"main-page"};function u(e,t,i,n,c,r){var s=Object(a["y"])("menu-block"),o=Object(a["y"])("info-block"),l=Object(a["y"])("slider-block"),d=Object(a["y"])("router-view");return Object(a["t"])(),Object(a["g"])("div",h,[Object(a["j"])(s,{onMenuClick:r.menuOpen},null,8,["onMenuClick"]),Object(a["h"])("div",{class:Object(a["p"])(["page-info",{pageInfoIfMenuOpen:c.clicked}])},[Object(a["j"])(o,{clicked:c.clicked},null,8,["clicked"]),Object(a["j"])(l,{clicked:c.clicked},null,8,["clicked"])],2),Object(a["j"])(d)])}var b=i("f618"),m=i.n(b),f=m.a+"#telegram",O=m.a+"#facebook",p=m.a+"#instagram",g=Object(a["h"])("div",{class:"first_line"},null,-1),j=Object(a["h"])("div",{class:"mid"},null,-1),v=Object(a["h"])("div",{class:"third_line"},null,-1),C=[g,j,v],k=Object(a["h"])("div",{class:"social-icons"},[Object(a["h"])("svg",null,[Object(a["h"])("use",{"xlink:href":f})]),Object(a["h"])("svg",null,[Object(a["h"])("use",{"xlink:href":O})]),Object(a["h"])("svg",null,[Object(a["h"])("use",{"xlink:href":p,width:"32",height:"32"})])],-1);function I(e,t,i,n,c,r){var s=Object(a["y"])("router-link"),o=Object(a["y"])("lang-switcher");return Object(a["t"])(),Object(a["g"])("div",{class:Object(a["p"])(["menu",{"open-menu":c.toggleValue}])},[Object(a["h"])("div",{class:Object(a["p"])(["lines",{open:c.toggleValue}]),onClick:t[0]||(t[0]=function(e){return r.toggleVisibilityLangSwitcher()})},C,2),Object(a["h"])("div",{class:"menu-items",onClick:t[1]||(t[1]=function(e){return r.toggleVisibilityLangSwitcher()})},[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(c.items,(function(e){return Object(a["t"])(),Object(a["e"])(s,{key:e.id,tag:"a",to:e.linkText},{default:Object(a["H"])((function(){return[Object(a["i"])(Object(a["B"])(e.itemText),1)]})),_:2},1032,["to"])})),128))]),k,c.toggleValue?Object(a["f"])("",!0):(Object(a["t"])(),Object(a["e"])(o,{key:0}))],2)}var y={class:"lang"},S={class:"green"};function x(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",y,[Object(a["h"])("button",{class:"lang-button",onClick:t[0]||(t[0]=function(e){return r.switchLang()})},[Object(a["h"])("h4",S,Object(a["B"])(c.lang),1)])])}var D={name:"LangSwitcher",data:function(){return{lang:"Eng",switcherOn:!1}},methods:{switchLang:function(){this.switcherOn?this.lang="Eng":this.lang="Рус",this.switcherOn=!this.switcherOn}}};const w=s()(D,[["render",x]]);var P=w,N={name:"MenuBlock",components:{LangSwitcher:P},data:function(){return{toggleValue:!1,items:[{id:"parking",linkText:"/",itemText:"Парковка"},{id:"insurance",linkText:"/",itemText:"Страховка"},{id:"petrol",linkText:"/",itemText:"Бензин"},{id:"serv",linkText:"/",itemText:"Обслуживание"}]}},methods:{toggleVisibilityLangSwitcher:function(){this.toggleValue=!this.toggleValue,this.$emit("menu-click",this.toggleValue)}}};const T=s()(N,[["render",I]]);var B=T,M={key:0,class:"info-header"},F={class:"row"},V=Object(a["h"])("h3",{class:"green"},"Need for drive",-1),A=Object(a["h"])("div",{class:"hero-block"},[Object(a["h"])("h1",null,"Каршеринг"),Object(a["h"])("h1",{class:"green"},"Need for drive"),Object(a["h"])("h4",null,"Поминутная аренда авто твоего города")],-1);function L(e,t,i,n,c,r){var s=Object(a["y"])("location-choice"),o=Object(a["y"])("page-header"),l=Object(a["y"])("page-footer");return Object(a["t"])(),Object(a["g"])("div",{class:Object(a["p"])(["info",{infoIfMenuOpen:i.clicked}])},[r.screenWidthChecker()?(Object(a["t"])(),Object(a["g"])("div",M,[Object(a["h"])("div",F,[V,Object(a["j"])(s)])])):(Object(a["t"])(),Object(a["e"])(o,{key:1})),A,Object(a["h"])("button",{onClick:t[0]||(t[0]=function(t){return e.$router.push("/order")})},"Забронировать"),Object(a["j"])(l)],2)}var $=i("e496"),E=i.n($),R={class:"locate"},_=Object(a["h"])("img",{src:E.a,alt:""},null,-1),W=Object(a["h"])("h5",{class:"city"},"Ульяновск",-1),U=[_,W];function z(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",R,U)}var H={name:"LocationChoice"};const X=s()(H,[["render",z]]);var Y=X,G={class:"page-header"},J={class:"row"},K=Object(a["h"])("h3",{class:"green"},"Need for drive",-1);function q(e,t,i,n,c,r){var s=Object(a["y"])("location-choice");return Object(a["t"])(),Object(a["g"])("div",G,[Object(a["h"])("div",J,[K,Object(a["j"])(s)])])}var Q={name:"PageHeader",components:{LocationChoice:Y}};const Z=s()(Q,[["render",q]]);var ee=Z,te={id:"bottom-row",class:"row bottom-row"},ie=Object(a["h"])("h5",{id:"trademark"},"© 2016-2019 «Need for drive»",-1),ae=Object(a["h"])("h5",{id:"phone-number"},"8 (495) 234-22-44",-1),ne=[ie,ae];function ce(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",te,ne)}var re={name:"PageFooter"};const se=s()(re,[["render",ce]]);var oe=se,le={name:"InfoBlock",components:{LocationChoice:Y,PageHeader:ee,PageFooter:oe},props:{clicked:Boolean},methods:{screenWidthChecker:function(){if(window.screen.width<767)return!0}}};const de=s()(le,[["render",L]]);var he=de,ue=(i("a4d3"),i("e01a"),i("0f59")),be=i.n(ue),me=i("42f1"),fe=i.n(me),Oe=Object(a["h"])("img",{class:"arrow-left",src:be.a,alt:""},null,-1),pe=[Oe],ge={class:"slider-text"},je={ref:"moreDetails"},ve={class:"circles",ref:"circles"},Ce=Object(a["h"])("div",{class:"active-circle"},null,-1),ke=Object(a["h"])("div",{class:""},null,-1),Ie=Object(a["h"])("div",{class:""},null,-1),ye=Object(a["h"])("div",{class:""},null,-1),Se=[Ce,ke,Ie,ye],xe=Object(a["h"])("img",{class:"arrow-right",src:fe.a,alt:""},null,-1),De=[xe];function we(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",{ref:"slider",class:Object(a["p"])(["slider img0",{sliderIfMenuOpen:i.clicked}])},[Object(a["h"])("div",{class:"edge",onClick:t[0]||(t[0]=function(e){return r.flipSlide(!1)})},pe),Object(a["h"])("div",ge,[Object(a["h"])("h3",null,Object(a["B"])(c.expression[c.iteration]),1),Object(a["h"])("h4",null,Object(a["B"])(c.description[c.iteration]),1),Object(a["h"])("button",je,"Подробнее",512),Object(a["h"])("div",ve,Se,512)]),Object(a["h"])("div",{class:"edge",onClick:t[1]||(t[1]=function(e){return r.flipSlide(!0)})},De)],2)}i("99af");var Pe={name:"SliderBlock",props:{clicked:Boolean},data:function(){return{images:["../img/slider/slide1.jpg","../img/slider/slide2.png","../img/slider/slide3.png","../img/slider/slide4.png"],buttonColors:["linear-gradient(90deg, #13493F 0%, #0C7B1B 100%)","linear-gradient(90deg, #132949 0%, #0C7B67 100%)","linear-gradient(90deg, #493013 0%, #7B0C3B 100%)","linear-gradient(90deg, #281349 0%, #720C7B 100%)"],expression:["Бесплатная парковка","Страховка","Бензин","Обслуживание"],description:["Оставляйте машину на платных городских парковках и разрешенных местах, не нарушая ПДД, а также в аэропортах.","Полная страховка страховка автомобиля","Полный бак на любой заправке города за наш счёт","Автомобиль проходит еженедельное ТО"],iteration:0,times:0,sliderInterval:null}},mounted:function(){this.flippingSlider()},methods:{changeClasses:function(e){this.$refs.slider.className="slider img".concat(e," ").concat(this.clicked?"sliderIfMenuOpen":""),this.$refs.moreDetails.style.background=this.buttonColors[e],this.$refs.circles.children[e].classList.add("active-circle")},flipSlideRight:function(){this.$refs.circles&&(this.times>1&&4===this.iteration?this.$refs.circles.children[this.images.length-1].classList.remove("active-circle"):this.$refs.circles.children[this.iteration].classList.remove("active-circle"),this.iteration<3?this.iteration++:this.iteration=0,this.changeClasses(this.iteration))},flipSlideLeft:function(){this.$refs.circles&&(this.times>1&&0===this.iteration?this.$refs.circles.children[0].classList.remove("active-circle"):this.$refs.circles.children[this.iteration].classList.remove("active-circle"),this.iteration>0?this.iteration--:this.iteration=3,this.changeClasses(this.iteration))},flipSlide:function(e){e?this.flipSlideRight():this.flipSlideLeft()},flippingSlider:function(){this.iteration=0;var e=function(){this.times++,this.flipSlideRight()}.bind(this);this.sliderInterval=setInterval(e,5e3),this.times>10&&clearInterval(this.sliderInterval)}}};const Ne=s()(Pe,[["render",we]]);var Te=Ne,Be={name:"MainPage",components:{MenuBlock:B,InfoBlock:he,SliderBlock:Te},data:function(){return{clicked:!1}},methods:{menuOpen:function(e){this.clicked=e}}};const Me=s()(Be,[["render",u]]);var Fe=Me,Ve={class:"order-info"};function Ae(e,t,i,n,c,r){var s=Object(a["y"])("menu-block"),o=Object(a["y"])("page-header"),l=Object(a["y"])("tabs-block"),d=Object(a["y"])("order-calc"),h=Object(a["y"])("confirmation-window");return Object(a["t"])(),Object(a["g"])("div",{class:Object(a["p"])(["order-page",{confirmOpen:c.confirmOrder}])},[Object(a["j"])(s,{onMenuClick:r.menuOpen},null,8,["onMenuClick"]),Object(a["h"])("div",{class:Object(a["p"])(["order",{pageInfoIfMenuOpen:c.clicked}])},[Object(a["j"])(o),Object(a["j"])(l,{pageIndx:c.componentIndx,onSelectedTabIndx:r.choiceComponent},null,8,["pageIndx","onSelectedTabIndx"]),Object(a["h"])("div",Ve,[(Object(a["t"])(),Object(a["e"])(a["b"],null,[(Object(a["t"])(),Object(a["e"])(Object(a["z"])(c.selectedComponent),{newColors:c.newColors,modelChanged:c.modelChanged,onFinalPrice:r.addPrice,onComponentData:r.addNewDataInCalcBlock,onComponentChanged:r.reloadPageData},null,8,["newColors","modelChanged","onFinalPrice","onComponentData","onComponentChanged"]))],1024)),Object(a["j"])(d,{pageIndx:c.componentIndx,activateButton:c.activateButton,onNextPage:r.choiceComponent,onConfirmOrder:t[0]||(t[0]=function(e){return c.confirmOrder=!0}),refreshDataInCalc:c.refreshDataInCalc,calcPrice:c.calcPrice},null,8,["pageIndx","activateButton","onNextPage","refreshDataInCalc","calcPrice"])])],2),c.confirmOrder?(Object(a["t"])(),Object(a["e"])(h,{key:0,onCloseConfirm:t[1]||(t[1]=function(e){return c.confirmOrder=!1})})):Object(a["f"])("",!0)],2)}i("a9e3");var Le={class:"order-location"},$e={class:"city"},Ee=Object(a["h"])("p",null,"Город",-1),Re={class:"location-input"},_e={class:"point-of-issue"},We=Object(a["h"])("p",null,"Пункт выдачи",-1),Ue=Object(a["h"])("p",{class:"map"},"Выбрать на карте:",-1);function ze(e,t,i,n,c,r){var s=Object(a["y"])("order-map");return Object(a["t"])(),Object(a["g"])("div",Le,[Object(a["h"])("div",$e,[Ee,Object(a["h"])("div",Re,[Object(a["I"])(Object(a["h"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.locationName=e}),onFocusout:t[1]||(t[1]=function(){return r.searchCity&&r.searchCity.apply(r,arguments)})},null,544),[[a["F"],c.locationName]]),Object(a["h"])("button",{class:"close",onClick:t[2]||(t[2]=function(e){return c.locationName=""})})])]),Object(a["h"])("div",_e,[We,Object(a["I"])(Object(a["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return c.pointName=e}),type:"text"},null,512),[[a["F"],c.pointName]])]),Ue,Object(a["j"])(s,{listOfPoints:c.listOfPoints,cityFind:c.cityFind,locationName:c.locationName},null,8,["listOfPoints","cityFind","locationName"])])}var He=i("ade3"),Xe=(i("d3b7"),i("159b"),i("b0c0"),i("7db0"),i("d81d"),{id:"order-map"});function Ye(e,t,i,n,c,r){var s=Object(a["y"])("ymap-marker"),o=Object(a["y"])("yandex-map");return Object(a["t"])(),Object(a["g"])("div",Xe,[Object(a["j"])(o,{id:"my-map",settings:c.map.settings,coords:c.map.coords,zoom:c.map.zoom,controls:c.map.controls,class:"map"},{default:Object(a["H"])((function(){return[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(c.entities,(function(e){return Object(a["t"])(),Object(a["e"])(s,{key:e.id,"marker-id":e.id,cityId:e.cityId,coords:e.location,class:"place-mark",onClick:function(t){return r.markerClick(e)}},null,8,["marker-id","cityId","coords","onClick"])})),128))]})),_:1},8,["settings","coords","zoom","controls"])])}var Ge=i("1da1"),Je=(i("96cf"),i("ac1f"),i("1276"),i("f5ce")),Ke={name:"OrderMap",components:{yandexMap:Je["b"],ymapMarker:Je["c"]},props:{listOfPoints:Array,cityFind:Number,locationName:String},data:function(){return{map:{settings:{apiKey:"c2c4071b-d021-4337-bfb4-d817f3d49601",lang:"ru_RU",coordorder:"latlong",version:"2.1"},coords:[54.3282,48.3866],controls:["rulerControl","zoomControl"],zoom:11},placeCoords:"",placeCoordsValue:[],entities:[]}},methods:{getCoords:function(e){var t=this;return Object(Ge["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.axios.get("https://geocode-maps.yandex.ru/1.x/?format=json&apikey=c2c4071b-d021-4337-bfb4-d817f3d49601&geocode="+e).then((function(e){t.placeCoords=e.data.response.GeoObjectCollection.featureMember[0].GeoObject.Point.pos,t.placeCoordsValue=[t.placeCoords.split(" ")[1],t.placeCoords.split(" ")[0]]})),i.next=3,a;case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}}),i)})))()},markerClick:function(e){sessionStorage.setItem("point-id",e.id),sessionStorage.setItem("city-id",e.cityId)}},watch:{listOfPoints:function(){var e=this;this.listOfPoints.forEach((function(t){t.cityId&&t.cityId.name&&t.address&&e.getCoords(t.cityId.name+","+t.address).then((function(){var i=e.placeCoordsValue;e.entities.push({id:t.id,cityId:t.cityId.id,name:t.cityId.name,location:i})}))}))},cityFind:function(){var e=this;this.cityFind&&this.getCoords(this.locationName).then((function(){e.map.coords=e.placeCoordsValue}))}},mounted:function(){var e=this;return Object(Ge["a"])(regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.markers=[],e.entities.forEach((function(t){e.markers.push({id:t.id,coords:t.location})})),i=e.markers,t.next=5,Object(Je["a"])(i);case 5:case"end":return t.stop()}}),t)})))()}};const qe=s()(Ke,[["render",Ye]]);var Qe=qe,Ze={name:"OrderLocation",components:{OrderMap:Qe},data:function(){return{locationName:"Ульяновск",pointName:"",listOfCities:[],cityFind:0,listOfPoints:[]}},watch:{pointName:function(){this.saveOrderData("point",this.pointName)}},created:function(){var e=sessionStorage.getItem("city"),t=sessionStorage.getItem("point");e&&(this.locationName=e),t&&(this.pointName=t),this.getCities(),this.getPoints()},methods:{getCities:function(){var e=this;this.axios.get("https://api-factory.simbirsoft1.com/api/db/city",{headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}).then((function(t){e.listOfCities=t.data.data}))},getPoints:function(){var e=this;this.axios.get("https://api-factory.simbirsoft1.com/api/db/point",{headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}).then((function(t){e.listOfPoints=t.data.data}))},searchCity:function(){var e=this;this.listOfCities.forEach((function(t){if(t.name==e.locationName&&(e.cityFind++,e.listOfPoints.length)){var i=e.listOfPoints.find((function(t){return t.cityId.name==e.locationName}));e.pointName=i.address,sessionStorage.setItem("point-id",i.id),sessionStorage.setItem("city-id",i.cityId.id)}})),this.cityFind||(this.pointName="",this.saveOrderData("point",this.pointName)),this.saveOrderData("city",this.locationName)},saveOrderData:function(e,t){sessionStorage.setItem(e,t),this.$emit("componentData",Object(He["a"])({},e,t)),this.locationName&&this.pointName&&(sessionStorage.setItem("current-tab",0),this.$emit("componentChanged"))}}};const et=s()(Ze,[["render",ze]]);var tt=et,it={class:"order-calculation"},at=Object(a["h"])("p",null,"Ваш заказ:",-1),nt={class:"pickup-point-address with-dots"},ct=Object(a["h"])("h5",{class:"item-name"},"Пункт выдачи",-1),rt=Object(a["h"])("span",{class:"dots"},null,-1),st={class:"item-value address"},ot={key:0,class:"order-model with-dots"},lt=Object(a["h"])("h5",{class:"item-name"},"Модель",-1),dt=Object(a["h"])("span",{class:"dots"},null,-1),ht={class:"item-value"},ut={key:1,class:"car-color with-dots"},bt=Object(a["h"])("h5",{class:"item-name"},"Цвет",-1),mt=Object(a["h"])("span",{class:"dots"},null,-1),ft={class:"item-value"},Ot={key:2,class:"rental-duration with-dots"},pt=Object(a["h"])("h5",{class:"item-name"},"Длительность аренды",-1),gt=Object(a["h"])("span",{class:"dots"},null,-1),jt={class:"item-value"},vt={key:3,class:"order-tariff with-dots"},Ct=Object(a["h"])("h5",{class:"item-name"},"Тариф",-1),kt=Object(a["h"])("span",{class:"dots"},null,-1),It={class:"item-value"},yt={key:4},St={class:"item-name"},xt=Object(a["h"])("span",{class:"dots"},null,-1),Dt=Object(a["h"])("h5",{class:"item-value model"},"Да",-1),wt={class:"price-block"},Pt=Object(a["h"])("p",null,"Цена:",-1);function Nt(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",it,[at,Object(a["h"])("div",nt,[ct,rt,Object(a["h"])("h5",st,Object(a["B"])(c.city)+", "+Object(a["B"])(c.point),1)]),c.filledOrderData>0?(Object(a["t"])(),Object(a["g"])("div",ot,[lt,dt,Object(a["h"])("h5",ht,Object(a["B"])(c.model),1)])):Object(a["f"])("",!0),c.filledOrderData>1?(Object(a["t"])(),Object(a["g"])("div",ut,[bt,mt,Object(a["h"])("h5",ft,Object(a["B"])(c.color),1)])):Object(a["f"])("",!0),c.filledOrderData>1?(Object(a["t"])(),Object(a["g"])("div",Ot,[pt,gt,Object(a["h"])("h5",jt,Object(a["B"])(c.duration),1)])):Object(a["f"])("",!0),c.filledOrderData>1?(Object(a["t"])(),Object(a["g"])("div",vt,[Ct,kt,Object(a["h"])("h5",It,Object(a["B"])(c.tariff),1)])):Object(a["f"])("",!0),c.filledOrderData>1&&0!=c.services.length?(Object(a["t"])(),Object(a["g"])("div",yt,[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(c.services,(function(e){return Object(a["t"])(),Object(a["g"])("div",{class:"add-options with-dots",key:e},[Object(a["h"])("h5",St,Object(a["B"])(e),1),xt,Dt])})),128))])):Object(a["f"])("",!0),Object(a["h"])("div",wt,[Pt,Object(a["h"])("h4",null,Object(a["B"])(c.price),1)]),i.finalOrderInfo?(Object(a["t"])(),Object(a["g"])("button",{key:6,class:Object(a["p"])(["active-button",{cancelButton:i.finalOrderInfo}]),onClick:t[1]||(t[1]=function(t){return e.$router.push("/order")})},Object(a["B"])("Отменить"),2)):(Object(a["t"])(),Object(a["g"])("button",{key:5,class:Object(a["p"])({"active-button":i.activateButton||3===i.pageIndx}),onClick:t[0]||(t[0]=function(){return r.displayNextPage&&r.displayNextPage.apply(r,arguments)})},Object(a["B"])(c.buttonNames[i.pageIndx]),3))])}i("4ec9"),i("3ca3"),i("ddb0"),i("b64b");var Tt={name:"OrderCalc",props:{pageIndx:Number,finalOrderInfo:Boolean,refreshDataInCalc:Object,activateButton:Boolean,calcPrice:Object},data:function(){return{buttonNames:["Выбрать модель","Дополнительно","Итого","Заказать"],city:"Ульяновск",point:"Нариманова 42",model:"Hyndai, ELANTRA",color:"Любой",duration:"1д2ч",tariff:"Поминутно",services:[],price:"от 8000 до 12000 ₽",orderCalcData:new Map,filledOrderData:-1}},created:function(){var e=sessionStorage.getItem("current-tab");e&&(this.filledOrderData=e);var t=sessionStorage.getItem("city"),i=sessionStorage.getItem("point"),a=sessionStorage.getItem("car-model"),n=sessionStorage.getItem("color"),c=sessionStorage.getItem("car-price"),r=sessionStorage.getItem("tariff"),s=sessionStorage.getItem("services"),o=sessionStorage.getItem("duration");t&&(this.city=t),i&&(this.point=i),a&&(this.model=a),n&&(this.color=n),c&&(this.price=c),r&&(this.tariff=r),s&&(this.services=s.split(",")),o&&(this.duration=o)},watch:{refreshDataInCalc:function(){for(var e=Object.keys(this.refreshDataInCalc),t=0;t<e.length;t++)this.orderCalcData.set(e[t],this.refreshDataInCalc[e[t]]),this[e[t]]=this.orderCalcData.get(e[t]);this.filledOrderData=sessionStorage.getItem("current-tab")},calcPrice:function(){this.orderCalcData.set("price",this.calcPrice.price),this.price=this.orderCalcData.get("price")},pageIndx:function(){this.pageIndx<this.filledOrderData&&(this.pageIndx<2&&(sessionStorage.removeItem("color"),sessionStorage.removeItem("tariff"),sessionStorage.removeItem("services"),sessionStorage.removeItem("checked-services"),sessionStorage.removeItem("duration"),this.orderCalcData.delete("color"),this.orderCalcData.delete("tariff"),this.orderCalcData.delete("services"),this.orderCalcData.delete("duration")),this.filledOrderData=sessionStorage.getItem("current-tab"))}},methods:{displayNextPage:function(){this.pageIndx<3?this.$emit("nextPage",{index:this.pageIndx+1}):this.$emit("confirmOrder")}}};const Bt=s()(Tt,[["render",Nt]]);var Mt=Bt,Ft=i("6e3a"),Vt=i.n(Ft),At={class:"tabs-block"},Lt={class:"tabs"},$t=["onClick"],Et={key:0,src:Vt.a,alt:""};function Rt(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",At,[Object(a["h"])("div",Lt,[Object(a["h"])("ul",null,[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(c.tabs,(function(e,t){return Object(a["t"])(),Object(a["g"])("span",{key:e.id,class:Object(a["p"])(["tab",{activeTab:c.selectedTab==e.name||c.selectedTab==t,topLine:t<2}]),onClick:function(e){return r.selectTab(t)}},[Object(a["i"])(Object(a["B"])(e.name)+" ",1),t<c.tabs.length-1?(Object(a["t"])(),Object(a["g"])("img",Et)):Object(a["f"])("",!0)],10,$t)})),128))])])])}var _t={name:"TabsBlock",props:{pageIndx:Number},data:function(){return{tabs:[{id:"tab-location",name:"Местоположение"},{id:"tab-model",name:"Модель"},{id:"tab-add",name:"Дополнительно"},{id:"tab-total",name:"Итого"}],selectedTab:0}},watch:{pageIndx:function(){this.selectedTab=this.pageIndx}},created:function(){this.selectedTab=this.pageIndx},methods:{selectTab:function(e){this.selectedTab=this.pageIndx,this.$emit("selectedTabIndx",{index:e})}}};const Wt=s()(_t,[["render",Rt]]);var Ut=Wt,zt={class:"car-model"},Ht={class:"options"},Xt=["id","value","onClick"],Yt=["for"],Gt={class:"products"};function Jt(e,t,i,n,c,r){var s=Object(a["y"])("product-card");return Object(a["t"])(),Object(a["g"])("div",zt,[Object(a["h"])("div",Ht,[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(c.classes,(function(e){return Object(a["t"])(),Object(a["g"])("div",{key:e},[Object(a["I"])(Object(a["h"])("input",{id:e,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.activeModels=e}),type:"radio",name:"radio",value:e,onClick:function(t){return r.filterCars(e)}},null,8,Xt),[[a["E"],c.activeModels]]),Object(a["h"])("label",{for:e,class:Object(a["p"])({"active-label":c.activeModels===e})},Object(a["B"])(e),11,Yt)])})),128))]),Object(a["h"])("div",Gt,[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(0==c.filteredCars.length?c.listOfCars:c.filteredCars,(function(e,t){return Object(a["t"])(),Object(a["e"])(s,{key:t,tag:"a",model:e.name,price:e.priceMin+" - "+e.priceMax+"₽",photo:e.thumbnail.path,class:Object(a["p"])({"active-car":c.activeCard===t}),onClick:function(e){return r.choiceCar(t)}},null,8,["model","price","photo","class","onClick"])})),128))])])}i("6062"),i("4de4");var Kt={class:"product-card"},qt={class:"card-text"},Qt=["src"];function Zt(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",Kt,[Object(a["h"])("div",qt,[Object(a["h"])("h3",null,Object(a["B"])(i.model),1),Object(a["h"])("h4",null,Object(a["B"])(i.price),1)]),Object(a["h"])("img",{src:i.photo,alt:""},null,8,Qt)])}var ei={name:"ProductCard",props:{model:String,price:String,photo:String}};const ti=s()(ei,[["render",Zt]]);var ii=ti,ai={name:"CarModel",components:{ProductCard:ii},data:function(){return{activeModels:"Все",activeCard:-1,listOfCars:[],classes:new Set,filteredCars:[]}},created:function(){var e=sessionStorage.getItem("car-index");e&&(this.activeCard=Number(e)),this.getList()},methods:{choiceCar:function(e){var t=0==this.filteredCars.length?this.listOfCars:this.filteredCars;this.activeCard=e,sessionStorage.setItem("car-model",t[e].name),sessionStorage.setItem("car-index",e),sessionStorage.setItem("car-price",t[e].priceMin+" - "+t[e].priceMax+"₽"),sessionStorage.setItem("current-tab",1),sessionStorage.setItem("car-colors",t[e].colors),sessionStorage.setItem("car-id",t[e].id),this.$emit("componentData",{model:t[e].name,price:t[e].priceMin+" - "+t[e].priceMax+"₽"}),this.$emit("componentChanged",t[e].colors)},fillClassesFromServer:function(){var e=this;this.classes.add("Все"),this.listOfCars.forEach((function(t){e.classes.add(t.categoryId.name)}))},filterCars:function(e){this.filteredCars="Все"!==e?this.listOfCars.filter((function(t){return t.categoryId.name===e})):[];var t=0==this.filteredCars.length?this.listOfCars:this.filteredCars;this.activeCard=0,this.$emit("componentData",{model:t[0].name,price:t[0].priceMin+" - "+t[0].priceMax+"₽"}),this.$emit("componentChanged",t[0].colors)},getList:function(){var e=this;this.axios.get("https://api-factory.simbirsoft1.com/api/db/car",{headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}).then((function(t){e.listOfCars=t.data.data,e.fillClassesFromServer()}))}}};const ni=s()(ai,[["render",Jt]]);var ci=ni,ri=i("94f7"),si=i.n(ri),oi={class:"additional-block"},li={class:"color"},di=Object(a["h"])("p",null,"Цвет",-1),hi={class:"colors"},ui=["onChange"],bi=["id","value"],mi=["for"],fi={class:"date"},Oi=Object(a["h"])("p",null,"Дата аренды",-1),pi={class:"start"},gi=Object(a["h"])("h3",null,"С",-1),ji={class:"input-block"},vi={class:"end"},Ci=Object(a["h"])("h3",null,"По",-1),ki={class:"input-block"},Ii={class:"tariff"},yi=Object(a["h"])("p",null,"Тариф",-1),Si=["id","value","onChange"],xi=["for"],Di={class:"add-services"},wi=Object(a["h"])("p",null,"Доп услуги",-1),Pi={class:"input-block"},Ni=["id","value","onChange"],Ti={key:0,src:si.a,alt:""},Bi=["for"];function Mi(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",oi,[Object(a["h"])("div",li,[di,Object(a["h"])("div",hi,[(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(c.colors,(function(e){return Object(a["t"])(),Object(a["g"])("div",{key:e.name,onChange:function(t){return r.saveAdditionalData("color",e.rusName,e.name)}},[Object(a["I"])(Object(a["h"])("input",{id:e.name,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.activeColor=e}),type:"radio",name:"radio1",value:e.name},null,8,bi),[[a["E"],c.activeColor]]),Object(a["h"])("label",{for:e.name,class:Object(a["p"])({"active-label":c.activeColor===e.name})},Object(a["B"])(e.rusName),11,mi)],40,ui)})),128))])]),Object(a["h"])("div",fi,[Oi,Object(a["h"])("div",pi,[gi,Object(a["h"])("div",ji,[Object(a["I"])(Object(a["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return c.startDateTime=e}),class:Object(a["p"])({"not-valid":c.startNotValid}),onFocusout:t[2]||(t[2]=function(e){return r.validateDateAndTime(c.startDateTime,!0)})},null,34),[[a["F"],c.startDateTime]]),Object(a["h"])("button",{class:"close",onClick:t[3]||(t[3]=function(e){return c.startDateTime=""})})])]),Object(a["h"])("div",vi,[Ci,Object(a["h"])("div",ki,[Object(a["I"])(Object(a["h"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return c.endDateTime=e}),class:Object(a["p"])({"not-valid":c.endNotValid}),onFocus:t[5]||(t[5]=function(e){return c.endDateTime=""}),onFocusout:t[6]||(t[6]=function(e){return r.validateDateAndTime(c.endDateTime,!1)})},null,34),[[a["F"],c.endDateTime]]),Object(a["h"])("button",{class:"close",onClick:t[7]||(t[7]=function(e){return c.endDateTime=""})})])])]),Object(a["h"])("div",Ii,[yi,(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(c.tariffs,(function(e){return Object(a["t"])(),Object(a["g"])("div",{key:e.name},[Object(a["I"])(Object(a["h"])("input",{id:e.name,"onUpdate:modelValue":t[8]||(t[8]=function(e){return c.activeTariff=e}),type:"radio",name:"radio",value:e.name,onChange:function(t){return r.saveAdditionalData("tariff",e.description,e.name,e.id)}},null,40,Si),[[a["E"],c.activeTariff]]),Object(a["h"])("label",{for:e.name,class:Object(a["p"])({"active-label":c.activeTariff===e.name})},Object(a["B"])(e.description)+", "+Object(a["B"])(e.tarPrice)+"₽/"+Object(a["B"])(e.timeValue),11,xi)])})),128))]),Object(a["h"])("div",Di,[wi,(Object(a["t"])(!0),Object(a["g"])(a["a"],null,Object(a["x"])(c.services,(function(e){return Object(a["t"])(),Object(a["g"])("div",{key:e.name,class:"option"},[Object(a["h"])("div",Pi,[Object(a["I"])(Object(a["h"])("input",{id:e.name,"onUpdate:modelValue":t[9]||(t[9]=function(e){return c.checkedServices=e}),type:"checkbox",name:"checkbox",value:e.name,onChange:function(t){return r.saveAdditionalData("service",e.description,e.name)}},null,40,Ni),[[a["D"],c.checkedServices]]),r.serviceCheck(e.name)?(Object(a["t"])(),Object(a["g"])("img",Ti)):Object(a["f"])("",!0)]),Object(a["h"])("label",{for:e.name,class:Object(a["p"])({"active-label":r.serviceCheck(e.name)})},Object(a["B"])(e.description)+Object(a["B"])(e.servPrice),11,Bi)])})),128))])])}i("4d90"),i("25f0"),i("caad"),i("2532"),i("466d"),i("a15b"),i("07ac"),i("00b4");var Fi={name:"AdditionalBlock",props:{newColors:Array},data:function(){return{startDateTime:"Введите дату и время",endDateTime:"Введите дату и время",activeColor:sessionStorage.getItem("active-color")||"col0",activeTariff:sessionStorage.getItem("active-tariff")||"tar0",checkedServices:[],dateFilled:!1,startNotValid:!1,endNotValid:!0,allDataValid:!1,rates:[],calculatedPrice:0,colors:[{name:"col0",rusName:"Любой"},{name:"col1",rusName:"Красный"},{name:"col2",rusName:"Голубой"}],tariffs:[{id:"tar0",name:"tar0",description:"Поминутно",tarPrice:"7",timeValue:"мин"},{id:"tar1",name:"tar1",description:"На сутки",tarPrice:"1999",timeValue:"сутки"}],services:[{name:"ch1",description:"Полный бак",servPrice:", 500₽"},{name:"ch2",description:"Детское кресло",servPrice:", 200₽"},{name:"ch3",description:"Правый руль",servPrice:", 1600₽"}]}},watch:{startDateTime:function(){this.validateDateAndTime(this.startDateTime,!0)},endDateTime:function(){this.validateDateAndTime(this.endDateTime,!1)},newColors:function(){var e=this;this.newColors&&this.newColors.length&&(this.colors=[],this.newColors.forEach((function(t,i){e.colors[i]={name:"col"+i,rusName:t}})))}},created:function(){var e=this;this.getRate();var t=new Date,i=String(t.getDate()).padStart(2,"0")+"."+String(t.getMonth()+1).padStart(2,"0")+"."+t.getFullYear(),a=t.getHours().toString(),n=t.getMinutes().toString();1===n.length&&(n="0"+n),1===a.length&&(a="0"+a),this.startDateTime=i+" "+a+":"+n;var c=sessionStorage.getItem("end-date");c&&(this.endDateTime=c);var r=sessionStorage.getItem("checked-services");r&&(this.checkedServices=r.split(","));var s=sessionStorage.getItem("car-colors").split(",");s.forEach((function(t,i){e.colors[i]={name:"col"+i,rusName:t}}))},methods:{getRate:function(){var e=this;this.axios.get("https://api-factory.simbirsoft1.com/api/db/rate",{headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}).then((function(t){var i=t.data.data;i&&(e.tariffs=[],i.forEach((function(t,a){i[a].rateTypeId&&(e.tariffs[a]={id:i[a].id,name:"tar"+a,description:i[a].rateTypeId.name,tarPrice:i[a].price,timeValue:i[a].rateTypeId.unit})}))),e.calculateFinalPrice()}))},calculateFinalPrice:function(){var e=this,t=sessionStorage.getItem("duration");if(t){var i=parseInt(t.split("д")[0]),a=parseInt(t.split("д")[1]),n=24*i+a,c=this.tariffs.find((function(t){return t.name==e.activeTariff}))||this.tariffs[0],r=c.description;this.calculatedPrice=0;var s=parseInt(c.tarPrice);r.toLowerCase().includes("минут")?this.calculatedPrice+=60*n*s:r.toLowerCase().includes("час")?this.calculatedPrice+=n*s:r.toLowerCase().includes("сут")?this.calculatedPrice+=Math.ceil(n/24)*s:r.toLowerCase().includes("недел")?this.calculatedPrice+=Math.ceil(n/24/7)*s:r.toLowerCase().includes("мес")?this.calculatedPrice+=Math.ceil(n/24/30)*s:r.toLowerCase().includes("год")&&(this.calculatedPrice+=Math.ceil(n/24/365)*s);var o=0;this.checkedServices.forEach((function(t){o+=parseInt(e.services.find((function(e){return e.name==t})).servPrice.match(/\d+/))})),this.calculatedPrice+=o,sessionStorage.setItem("car-price",this.calculatedPrice),this.$emit("finalPrice",{price:this.calculatedPrice})}},serviceCheck:function(e){return this.checkedServices.indexOf(e)+1},saveAdditionalData:function(e,t,i,a){var n=this;if("color"!==e&&"tariff"!==e||(sessionStorage.setItem("active-".concat(e),i),"tariff"===e&&sessionStorage.setItem("active-tariff-id",a)),"service"===e){var c={};if(this.checkedServices.length){for(var r=function(e){c[n.checkedServices[e]]=n.services.find((function(t){return t.name==n.checkedServices[e]})).description},s=0;s<this.checkedServices.length;s++)r(s);0!==Object.keys(c).length&&(sessionStorage.setItem("services",Object.values(c).join(",")),sessionStorage.setItem("checked-services",Object.keys(c).join(",")))}else sessionStorage.setItem("services",""),sessionStorage.setItem("checked-services","");this.$emit("componentData",{services:c})}else sessionStorage.setItem(e,t),this.$emit("componentData",Object(He["a"])({},e,t)),this.$emit("componentChanged");sessionStorage.setItem("current-tab",2),this.calculateFinalPrice()},inputNameCheck:function(e,t){e?this.startNotValid=t:this.endNotValid=t},validateDateAndTime:function(e,t){var i=e.split(" "),a=i[0],n=i[1];if(a&&n){var c=a.split(".");c[1]-=1;var r=new Date(c[2],c[1],c[0]);!(r.getFullYear()==c[2]&&r.getMonth()>=c[1])&&r.getFullYear()<c[2]?this.inputNameCheck(t,!0):this.inputNameCheck(t,!1),/(([2][0-3])|([0-1][0-9])):([0-5][0-9])/.test(n)&&n.split(":")[0]<24&&n.split(":")[1]<60||this.inputNameCheck(t,!0)}else this.inputNameCheck(t,!0);this.startNotValid||this.endNotValid||this.calculateDuration()},dateToValidDate:function(e){var t=e.split(" ")[0].split(".").reverse().join("-");return t},calculateDuration:function(){var e=this.startDateTime,t=this.dateToValidDate(e),i=this.endDateTime,a=this.dateToValidDate(i),n=new Date(t+"T"+e.split(" ")[1]),c=new Date(a+"T"+i.split(" ")[1]),r=c-n,s=Math.ceil(r/1e3/60/60),o=Math.round(s/24),l=s%24,d=o+"д"+l+"ч";this.$emit("componentData",{duration:d}),this.$emit("componentChanged"),sessionStorage.setItem("duration",d),sessionStorage.setItem("start-date",e),sessionStorage.setItem("end-date",i),this.calculateFinalPrice()}}};const Vi=s()(Fi,[["render",Mi]]);var Ai=Vi,Li={class:"total-block"},$i={class:"total-info"},Ei={key:0},Ri={key:1,class:"car-number"},_i={key:2},Wi=Object(a["h"])("span",null,"Топливо ",-1),Ui=Object(a["i"])("100%"),zi=[Wi,Ui],Hi={key:3},Xi=Object(a["h"])("span",null,"Детское кресло",-1),Yi=[Xi],Gi={key:4},Ji=Object(a["h"])("span",null,"Правый руль",-1),Ki=[Ji],qi={key:5},Qi=Object(a["h"])("span",null,"Доступно с ",-1),Zi=["src"];function ea(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",Li,[Object(a["h"])("div",$i,[c.totalCarModel?(Object(a["t"])(),Object(a["g"])("h3",Ei,Object(a["B"])(c.totalCarModel),1)):Object(a["f"])("",!0),c.totalCarNumber?(Object(a["t"])(),Object(a["g"])("h4",Ri,Object(a["B"])(c.totalCarNumber),1)):Object(a["f"])("",!0),c.totalCarOption1?(Object(a["t"])(),Object(a["g"])("h4",_i,zi)):Object(a["f"])("",!0),c.totalCarOption2?(Object(a["t"])(),Object(a["g"])("h4",Hi,Yi)):Object(a["f"])("",!0),c.totalCarOption3?(Object(a["t"])(),Object(a["g"])("h4",Gi,Ki)):Object(a["f"])("",!0),c.totalStartDate?(Object(a["t"])(),Object(a["g"])("h4",qi,[Qi,Object(a["i"])(Object(a["B"])(c.totalStartDate),1)])):Object(a["f"])("",!0)]),c.totalCarPhoto?(Object(a["t"])(),Object(a["g"])("img",{key:0,src:c.totalCarPhoto,alt:""},null,8,Zi)):Object(a["f"])("",!0)])}var ta={name:"TotalBlock",props:{modelChanged:Number},data:function(){return{totalCarPhoto:"",totalCarModel:"",totalCarNumber:"",totalStartDate:"",totalCarOption1:!1,totalCarOption2:!1,totalCarOption3:!1,selectedCar:{}}},created:function(){this.getCarById()},watch:{modelChanged:function(){this.totalCarPhoto="",this.totalCarModel="",this.totalCarNumber="",this.totalStartDate="",this.selectedCar={},this.getCarById()}},methods:{getCarById:function(){var e=this,t=sessionStorage.getItem("car-id");t&&this.axios.get("https://api-factory.simbirsoft1.com/api/db/car/"+t,{headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}).then((function(t){e.selectedCar=t.data.data,e.fillCarData()}))},fillCarData:function(){this.totalCarPhoto=this.selectedCar.thumbnail.path,this.totalCarModel=this.selectedCar.name,this.totalCarNumber=this.selectedCar.number,this.totalStartDate=sessionStorage.getItem("start-date")?sessionStorage.getItem("start-date"):"",this.totalCarOption1=!!(sessionStorage.getItem("checked-services").split(",").indexOf("ch1")+1),this.totalCarOption2=!!(sessionStorage.getItem("checked-services").split(",").indexOf("ch2")+1),this.totalCarOption3=!!(sessionStorage.getItem("checked-services").split(",").indexOf("ch3")+1)}}};const ia=s()(ta,[["render",ea]]);var aa=ia,na={class:"confirmation-window"},ca=Object(a["h"])("h3",null,"Подтвердить заказ",-1),ra={class:"buttons"};function sa(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",na,[ca,Object(a["h"])("div",ra,[Object(a["h"])("button",{class:"ok",onClick:t[0]||(t[0]=function(){return r.sendOrderData&&r.sendOrderData.apply(r,arguments)})},"Подтвердить"),Object(a["h"])("button",{class:"cancel",onClick:t[1]||(t[1]=function(){return r.closeConfirm&&r.closeConfirm.apply(r,arguments)})},"Вернуться")])])}var oa={name:"ConfirmationWindow",data:function(){return{listOfStatuses:[],fullTank:!1,childChair:!1,rightWheel:!1}},created:function(){this.getStatuses();var e=sessionStorage.getItem("checked-services").split(",");this.fullTank=!!(e.find((function(e){return"ch1"==e}))+1),this.childChair=!!(e.find((function(e){return"ch2"==e}))+1),this.rightWheel=!!(e.find((function(e){return"ch3"==e}))+1)},methods:{closeConfirm:function(){this.$emit("closeConfirm",!1)},getStatuses:function(){var e=this;this.axios.get("https://api-factory.simbirsoft1.com/api/db/orderStatus",{headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}).then((function(t){e.listOfStatuses=t.data.data}))},parseDate:function(e){var t=e.split(" ")[0],i=e.split(" ")[1],a=t.split(".")[2]+"-"+t.split(".")[1]+"-"+t.split(".")[0]+"T"+i;return new Date(a).getTime()},sendOrderData:function(){var e=this;this.axios({method:"post",url:"https://api-factory.simbirsoft1.com/api/db/order",headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b","Content-type":"application/json; charset=UTF-8"},data:{orderStatusId:"".concat(this.listOfStatuses[0].id),cityId:"".concat(sessionStorage.getItem("city-id")),pointId:"".concat(sessionStorage.getItem("point-id")),carId:"".concat(sessionStorage.getItem("car-id")),color:"".concat(sessionStorage.getItem("color")),dateFrom:"".concat(this.parseDate(sessionStorage.getItem("start-date"))),dateTo:"".concat(this.parseDate(sessionStorage.getItem("end-date"))),rateId:"".concat(sessionStorage.getItem("active-tariff-id")),price:"".concat(parseInt(sessionStorage.getItem("car-price"))),isFullTank:"".concat(this.fullTank),isNeedChildChair:"".concat(this.childChair),isRightWheel:"".concat(this.rightWheel)}}).then((function(t){sessionStorage.setItem("order-id",t.data.data.id),e.$router.push("/final?id="+t.data.data.id)}))},confirmOrder:function(){this.sendOrderData()}}};const la=s()(oa,[["render",sa]]);var da=la,ha={name:"OrderPage",components:{MenuBlock:B,PageHeader:ee,TabsBlock:Ut,OrderCalc:Mt,OrderLocation:tt,CarModel:ci,AdditionalBlock:Ai,TotalBlock:aa,ConfirmationWindow:da},data:function(){return{clicked:!1,selectedComponent:"OrderLocation",componentsNames:["OrderLocation","CarModel","AdditionalBlock","TotalBlock"],componentIndx:0,confirmOrder:!1,refreshDataInCalc:{},activateButton:!1,newColors:[],calcPrice:{},modelChanged:0}},created:function(){var e=sessionStorage.getItem("current-tab");null!==e&&(this.componentIndx=Number(e),this.selectedComponent=this.componentsNames[e])},methods:{menuOpen:function(e){this.clicked=e},choiceComponent:function(e){(this.componentIndx+1>=e.index||e.index==Number(sessionStorage.getItem("current-tab")))&&null!==sessionStorage.getItem("current-tab")&&Number(sessionStorage.getItem("current-tab"))+1>=e.index&&(this.selectedComponent=this.componentsNames[e.index],e&&(this.componentIndx=e.index),this.activateButton=!1)},reloadPageData:function(e){this.activateButton=!0,this.newColors=e,this.modelChanged++},addNewDataInCalcBlock:function(e){this.refreshDataInCalc=e},addPrice:function(e){this.calcPrice=e}}};const ua=s()(ha,[["render",Ae]]);var ba=ua,ma={class:"order-page"},fa=Object(a["h"])("div",{class:"order-number"},"Заказ номер RU58491823",-1),Oa={class:"order-info"};function pa(e,t,i,n,c,r){var s=Object(a["y"])("menu-block"),o=Object(a["y"])("page-header"),l=Object(a["y"])("total-block"),d=Object(a["y"])("order-calc");return Object(a["t"])(),Object(a["g"])("div",ma,[Object(a["j"])(s,{onMenuClick:r.menuOpen},null,8,["onMenuClick"]),Object(a["h"])("div",{class:Object(a["p"])(["order",{pageInfoIfMenuOpen:c.clicked}])},[Object(a["j"])(o),fa,Object(a["h"])("div",Oa,[Object(a["j"])(l,{finalModel:c.carName,finalNumber:c.carNumber,finalOption1:c.fullTank,finalOption2:c.rightWheel,finalOption3:c.childChair,finalDateFrom:c.dateFrom},null,8,["finalModel","finalNumber","finalOption1","finalOption2","finalOption3","finalDateFrom"]),Object(a["j"])(d,{finalOrderInfo:!0})])],2)])}var ga={name:"FinalPage",components:{MenuBlock:B,PageHeader:ee,OrderCalc:Mt,TotalBlock:aa},data:function(){return{clicked:!1,orderId:"",carName:"",carNumber:"",fullTank:!1,rightWheel:!1,childChair:!1,dateFrom:""}},created:function(){this.orderId=sessionStorage.getItem("order-id"),this.getOrderData()},methods:{menuOpen:function(e){this.clicked=e},getOrderData:function(){var e=this;this.axios.get("https://api-factory.simbirsoft1.com/api/db/order/"+this.orderId,{headers:{"X-Api-Factory-Application-Id":"5e25c641099b810b946c5d5b"}}).then((function(t){var i=t.data.data;e.carName=i.carId.name,e.carNumber=i.carId.number,e.fullTank=i.isFullTank,e.rightWheel=i.isRightWheel,e.childChair=i.isNeedChildChair,e.dateFrom=sessionStorage.getItem("start-date")}))}}};const ja=s()(ga,[["render",pa]]);var va=ja,Ca=i("1ae4"),ka=i.n(Ca),Ia=ka.a+"#logo-svg",ya={class:"admin-page"},Sa=Object(a["h"])("div",{class:"logo-name-row"},[Object(a["h"])("div",{class:"logo-block"},[Object(a["h"])("svg",null,[Object(a["h"])("use",{"xlink:href":Ia})])]),Object(a["h"])("h3",{class:"site-name"},"Need for drive")],-1);function xa(e,t,i,n,c,r){var s=Object(a["y"])("authorization-form");return Object(a["t"])(),Object(a["g"])("div",ya,[Sa,Object(a["j"])(s)])}var Da={class:"auth-form"},wa=Object(a["h"])("h3",null,"Вход",-1),Pa=Object(a["h"])("h4",null,"Почта",-1),Na=Object(a["h"])("input",{type:"text"},null,-1),Ta=Object(a["h"])("h4",null,"Пароль",-1),Ba=Object(a["h"])("input",{id:"pass-input",type:"password"},null,-1),Ma=Object(a["h"])("div",{class:"button-row"},[Object(a["h"])("p",null,"Запросить доступ"),Object(a["h"])("button",null,"Войти")],-1),Fa=[wa,Pa,Na,Ta,Ba,Ma];function Va(e,t,i,n,c,r){return Object(a["t"])(),Object(a["g"])("div",Da,Fa)}var Aa={name:"AuthorizationForm",data:function(){return{}},created:function(){},methods:{}};const La=s()(Aa,[["render",Va]]);var $a=La,Ea={name:"AdminPage",components:{AuthorizationForm:$a},data:function(){return{}},created:function(){},methods:{}};const Ra=s()(Ea,[["render",xa]]);var _a=Ra,Wa=[{path:"/",name:"MainPage",component:Fe},{path:"/order",name:"OrderPage",component:ba},{path:"/final",name:"FinalPage",component:va},{path:"/admin",name:"AdminPage",component:_a}],Ua=Object(d["a"])({history:Object(d["b"])("need-for-drive"),routes:Wa}),za=Ua,Ha=(i("358e"),i("bc3a")),Xa=i.n(Ha),Ya=i("130e"),Ga=Object(a["d"])(l).use(za);Ga.use(Ya["a"],Xa.a),Ga.mount("#app")},"6e3a":function(e,t,i){e.exports=i.p+"img/tab_arrow.3cb05594.svg"},"94f7":function(e,t,i){e.exports=i.p+"img/checked.ee33b0c5.svg"},e496:function(e,t,i){e.exports=i.p+"img/location.f04bcfa4.svg"},f618:function(e,t,i){e.exports=i.p+"img/sprite.ed740e43.svg"}});
//# sourceMappingURL=app.7b21b41e.js.map